{"version":3,"sources":["components/about.js","components/login.js","components/home.js","components/playlist.js","components/color.js","components/error.js","components/pagenotfound.js","components/main.js","components/header.js","App.js","reportWebVitals.js","index.js"],"names":["About","className","href","React","Component","Login","props","state","token","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","join","Home","loggedIn","message","queryString","parse","this","setState","to","pathname","Playlist","history","push","moodOption","artists","hex","hsl","h","s","l","rgb","r","g","b","artistQuery","userId","getPlaylist","bind","recommendations_api","create_playlist_api","energy","valence","fetch","method","headers","then","response","ok","Error","json","data","songs","tracks","forEach","song","uri","body","JSON","stringify","playlistURI","external_urls","spotify","playlistId","id","catch","error","console","log","embedURI","style","color","src","title","height","frameBorder","allowtransparency","allow","Color","handleChangeComplete","isSelected","getTopArtists","getUser","statusText","items","query","artist","name","onChange","disableAlpha","disabled","redirect","setTimeout","clearTimeout","PageNotFound","Main","exact","path","component","Header","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb387c89.chunk.js","sourcesContent":["import React from \"react\";\n\nimport '../css/app.css';\nimport '../css/index.css';\n\nexport default class About extends React.Component {\n\n  render() {\n    return (\n      <div className=\"content\">\n        <div className=\"title\">about</div>\n\n        <div className=\"body-text\">\n          Moody Music is a web app that uses color to generate a personalized playlist based on your Spotify listening history.<br/><br/>\n          Created by <a href=\"https://alicemliu.github.io\">Alice Liu</a>. The source code can be found <a href=\"https://github.com/alicemliu/moody-music\">here</a>.\n        </div>\n        \n        <div className=\"subtitle\">technology</div>\n        <div className=\"body-text\">\n          Moody Music is build with <a href=\"https://create-react-app.dev/\">create-react-app</a> and <a href=\"https://developer.spotify.com/documentation/web-api/\">Spotify's Web API</a>. It runs completely client-side and is deployed on Heroku.<br/><br/>\n          Although I used Spotify's API, I'm not affiliated with Spotify.\n        </div>\n\n        <div className=\"subtitle\">privacy</div>\n        <div className=\"body-text\">\n          Spotify authorization is handled using <a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow\">implicit grant flow</a>, meaning that all account authorization happens in your browser and no account data is being stored by Moody Music.\n          Because of this, tokens expire after an hour, which is why you might be promoted to log in again after periods of inactivity.\n        </div>\n\n        <div className=\"icons\">\n          <a href=\"https://www.linkedin.com/in/alicemliu/\"><i className=\"fa fa-linkedin-square\"></i></a>\n          <a href=\"https://www.github.com/alicemliu/\"><i className=\"fa fa-github\"></i></a>\n          <a href=\"https://twitter.com/alicemliu\"><i className=\"fa fa-twitter-square\"></i></a>\n        </div>\n      </div>\n    );\n  }\n}","import React from \"react\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {token: \"\"};\n  }\n\n  componentDidMount() {\n    const hash = window.location.hash\n    .substring(1)\n    .split('&')\n    .reduce(function (initial, item) {\n      if (item) {\n        var parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n      return initial;\n    }, {});\n    window.location.hash = '';\n\n    // Set token\n    let _token = hash.access_token;\n\n    const authEndpoint = 'https://accounts.spotify.com/authorize';\n\n    // Replace with your app's client ID, redirect URI and desired scopes\n    const clientId = '5230258282ca42bfb5ab68558b0a4f27';\n    const redirectUri = 'https://moodymusicapp.herokuapp.com/';\n    const scopes = [\n      'user-top-read',\n      'playlist-modify-private',\n      'playlist-modify-public'\n    ];\n\n    // If there is no token, redirect to Spotify authorization\n    if (!_token) {\n      window.location = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join('%20')}&response_type=token&show_dialog=true`;\n    }\n  }\n\n  render() {\n    return (\n      <div className='content'>\n        <span className=\"subtitle\">Authorizing...</span>\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport queryString from 'query-string';\n\nimport '../css/app.css';\nimport '../css/index.css';\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: \"\",\n      loggedIn: false,\n      message: \"Log in with Spotify to get started!\"\n    };\n  }\n\n  componentDidMount() {\n    let params = queryString.parse(window.location.hash);\n    let token = params.access_token\n\n    if (token) {\n      this.setState(state => ({\n        token: token,\n        loggedIn: true,\n        message: \"Authentication successful.\"\n      }));\n    }\n    else {\n      this.setState(state => ({\n        token: token,\n        loggedIn: false,\n        message: \"\"\n      }));\n    }\n  }\n\n  render() {\n    const loggedIn = this.state.loggedIn\n    return (\n      <div className=\"content\">\n        <div className=\"title\">moody music ðŸŽ¶</div>\n        <div className=\"body-text\">\n          A colorful, personalized playlist generator.<br/>\n        </div>\n\n        { loggedIn\n          ?\n          <Redirect to={{\n            pathname: '/color',\n            state: { token: this.state.token }\n          }}/>\n          :\n          <Link to='/login'>\n            <button className=\"round_btn\">Login with Spotify</button>\n          </Link>\n        }\n      </div>\n    );\n  }\n}","import React from \"react\";\n\nexport default class Playlist extends React.Component {\n  constructor(props) {\n    super(props);\n    if (typeof this.props.location.state === 'undefined') {\n      this.props.history.push(\"/error\");\n      this.state = {\n        token: '',\n        moodOption: '',\n        artists: [],\n        hex: '#ffffff',\n        hsl: { h: 0, s: 0, l: 1 },\n        rgb: { r: 0, g: 0, b: 0 },\n        artistQuery: '',\n        userId: ''\n      };\n    }\n    else {\n      this.state = {\n        token: this.props.location.state.token,\n        moodOption: this.props.location.state.moodOption,\n        hex: this.props.location.state.hex,\n        hsl: this.props.location.state.hsl,\n        rgb: this.props.location.state.rgb,\n        artists: this.props.location.state.artists,\n        artistQuery: this.props.location.state.artistQuery,\n        userId: this.props.location.state.userId\n      };\n    }\n    \n    this.getPlaylist = this.getPlaylist.bind(this);\n  }\n\ncomponentDidMount() {\n    this.getPlaylist()\n  }\n\n  getPlaylist() {\n    const recommendations_api = \"https://api.spotify.com/v1/recommendations?limit=20&seed_artists=\" + this.state.artistQuery\n    const create_playlist_api = \"https://api.spotify.com/v1/users/\" + this.state.userId + \"/playlists\"\n\n    let energy = this.state.hsl.s\n    let valence = this.state.rgb.g / 225\n\n    fetch(recommendations_api + \"&target_energy=\" + energy + \"&target_valence=\" + valence, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response);\n      return response.json();\n    })\n    .then((data) => {\n      let songs = ''\n      data.tracks.forEach(function(song) {\n        songs = songs + song.uri + ','\n      });\n      this.setState({\n        songs: songs\n      });\n      return songs\n    })\n    .then((songs) => {\n      fetch(create_playlist_api, {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + this.state.token\n        },\n        body: JSON.stringify({\n          \"name\": this.state.hex,\n          \"description\": \"Playlist created by Moody Music.\",\n          \"public\": false\n        })\n      })\n      .then((response) => {\n        if (!response.ok) throw Error(response);\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          playlistURI: data.external_urls.spotify,\n          playlistId: data.id\n        });\n        return data.id\n      })\n      .then((playlistId) => {\n        fetch(\"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks?uris=\" + this.state.songs, {\n          method: 'POST',\n          headers: {\n            'Authorization': 'Bearer ' + this.state.token\n          }\n        })\n        .then((response) => {\n          if (!response.ok) throw Error(response);\n        })\n        .catch(error => {\n          console.log(error);\n          this.props.history.push(\"/error\");\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.props.history.push(\"/error\");\n      });\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  render() {\n    let embedURI = \"https://open.spotify.com/embed/playlist/\" + this.state.playlistId;\n    return (\n      <div className=\"content\">\n        <span className='title'>you're feeling: </span>\n        <span className='title-no-color' style={{color: this.state.hex}}>{this.state.hex}</span>\n        <br/><br/>\n        <div>\n          <iframe src={embedURI} id=\"embed\" title=\"Embeded Spotify Playlist\" height=\"380\" frameBorder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\n        </div>\n        <a href={this.state.playlistURI} className='round_btn'>Open in Spotify</a>\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ChromePicker } from 'react-color';\n\nexport default class Color extends React.Component {\n  constructor(props) {\n    super(props);\n    let token = ''\n    if (typeof this.props.location.state === 'undefined') {\n      this.props.history.push(\"/error\");\n    }\n    else {\n      token = this.props.location.state.token;\n    }\n    this.state = {\n      token: token,\n      // moodOption: this.props.location.state.moodOption,\n      hex: '#ffffff',\n      hsl: { h: 0, s: 0, l: 1 },\n      rgb: { r: 0, g: 0, b: 0 },\n      isSelected: false\n    };\n\n    this.getTopArtists = this.getTopArtists.bind(this);\n    this.getUser = this.getUser.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.getTopArtists();\n  }\n\n  getTopArtists() {\n    const api_url = \"https://api.spotify.com/v1/me/top/artists?limit=5\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      let items = []\n      let query = ''\n      data.items.forEach(function(artist) {\n        items.push(artist.name);\n        query = query + artist.id + ',';\n      });\n      this.setState(state => ({\n        artists: items,\n        artistQuery: query\n      }));\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  getUser() {\n    const api_url = \"https://api.spotify.com/v1/me\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      this.setState(state => ({\n        userId: data.id\n      }));\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  handleChangeComplete = (color) => {\n    this.setState({ \n      hex: color.hex,\n      hsl: color.hsl,\n      rgb: color.rgb,\n      isSelected: true\n    });\n  };\n\n  render() {\n    return (\n      <div className='content'>\n          <div className='title'>what color are you feeling?</div>\n          The color you pick affects the mood of the generated playlist, along with your listening history.<br/><br/><br/>\n\n\n          <ChromePicker color={ this.state.hex }\n            onChange={ this.handleChangeComplete }\n            disableAlpha = { true }\n          />\n          \n          <Link to={{\n            pathname: '/playlist',\n            state: { \n              token: this.state.token,\n              hex: this.state.hex,\n              hsl: this.state.hsl,\n              rgb: this.state.rgb,\n              artists: this.state.artists,\n              artistQuery: this.state.artistQuery,\n              userId: this.state.userId\n            }\n          }}>\n            <button className=\"round_btn\" disabled={!this.state.isSelected}>\n              Create Playlist\n            </button>\n          </Link>\n          {/* <button className=\"round_btn\">\n              Edit Color\n          </button> */}\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Redirect, Link } from 'react-router-dom';\n\nexport default class Error extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false\n    }\n  }\n\n  componentDidMount() {\n    this.id = setTimeout(() => this.setState({ redirect: true }), 1500)\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id)\n  }\n\n  render() {\n    return (\n      <div className='content'>\n        { this.state.redirect\n          ? \n          <div>\n            <Redirect to=\"/login\"/>\n          </div>\n          : \n          <div>\n            <div className=\"subtitle\">Authentication timed out!<br/>Redirecting you to login...</div>\n            <Link to='/'>\n              <button className=\"round_btn\">Return to Homepage</button>\n            </Link>\n          </div>\n        }\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nexport default class PageNotFound extends React.Component {\n\n  render() {\n    return (\n      <div className='content'>\n        <br/>\n        <div className=\"subtitle\">Oops! This page doesn't exist.</div>\n        <Link to='/'>\n          <button className=\"round_btn\">Return to Homepage</button>\n        </Link>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n// import { spring, AnimatedSwitch } from 'react-router-transition';\n\nimport '../css/index.css';\n\nimport About from './about';\nimport Login from './login';\nimport Home from './home';\nimport Playlist from './playlist';\nimport Color from './color';\nimport Error from './error';\nimport PageNotFound from './pagenotfound';\n\n// we need to map the `scale` prop we define below\n// to the transform style property\n// function mapStyles(styles) {\n//   return {\n//     opacity: styles.opacity,\n//     transform: `scale(${styles.scale})`,\n//   };\n// }\n\n// // wrap the `spring` helper to use a bouncy config\n// function bounce(val) {\n//   return spring(val, {\n//     stiffness: 330,\n//     damping: 22,\n//   });\n// }\n\n// // child matches will...\n// const bounceTransition = {\n//   // start in a transparent, upscaled state\n//   atEnter: {\n//     opacity: 0,\n//     scale: 1.2,\n//   },\n//   // leave in a transparent, downscaled state\n//   atLeave: {\n//     opacity: bounce(0),\n//     scale: bounce(0.8),\n//   },\n//   // and rest at an opaque, normally-scaled state\n//   atActive: {\n//     opacity: bounce(1),\n//     scale: bounce(1),\n//   },\n// };\n\nconst Main = () => {\n\n  return (\n    // <AnimatedSwitch\n    //   atEnter={{ opacity: 0 }}\n    //   atLeave={{ opacity: 0 }}\n    //   atActive={{ opacity: 1 }}\n    //   // atEnter={bounceTransition.atEnter}\n    //   // atLeave={bounceTransition.atLeave}\n    //   // atActive={bounceTransition.atActive}\n    //   // mapStyles={mapStyles}\n    //   className=\"switch-wrapper\"\n    // >\n    <Switch className=\"switch-wrapper\">\n      <Route exact path='/' component={Home}></Route>\n      <Route exact path='/about' component={About}></Route>\n      <Route exact path='/login' component={Login}></Route>\n      <Route exact path='/color' component={Color}></Route>\n      <Route exact path='/playlist' component={Playlist}></Route>\n      <Route exact path='/error' component={Error}></Route>\n      <Route component={PageNotFound}/>\n    </Switch>\n  );\n}\n\nexport default Main;","import React from \"react\";\nimport \"../css/header.css\"\n\nimport { Link } from \"react-router-dom\";\n\nexport default class Header extends React.Component {\n  render() {\n    return (\n      <div className=\"header\">\n        <Link to='/' className=\"logo\">ðŸŽ¶</Link>\n        <div className=\"header-right\">\n          <Link to='/about'>about</Link>\n          <Link to='/login'>login</Link>\n        </div>\n      </div>\n    );\n  }\n}","import './css/index.css';\n\nimport Main from \"./components/main\";\nimport Header from \"./components/header\";\n\nimport { BrowserRouter } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header/>\n      <Main/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />\n  ,document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}