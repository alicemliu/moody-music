{"version":3,"sources":["components/about.js","components/login.js","components/home.js","components/playlist.js","components/color.js","components/error.js","components/pagenotfound.js","components/main.js","components/header.js","App.js","reportWebVitals.js","index.js"],"names":["About","props","class","href","React","Component","Login","state","token","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","join","Home","loggedIn","message","params","queryString","parse","console","log","this","setState","to","pathname","Playlist","history","push","moodOption","artists","hex","hsl","h","s","l","rgb","r","g","b","artistQuery","userId","getPlaylist","bind","recommendations_api","create_playlist_api","energy","valence","fetch","method","headers","then","response","ok","Error","json","data","songs","tracks","map","song","uri","body","JSON","stringify","playlistURI","external_urls","spotify","playlistId","id","catch","error","embedURI","style","color","src","height","frameborder","allowtransparency","allow","Color","handleChangeComplete","isSelected","getTopArtists","getUser","statusText","items","query","artist","name","onChange","disableAlpha","className","disabled","redirect","setTimeout","clearTimeout","PageNotFound","bounce","val","spring","stiffness","damping","Main","exact","path","component","Header","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a261b90.chunk.js","sourcesContent":["import React from \"react\";\n\nimport '../css/app.css';\nimport '../css/index.css';\n\nexport default class About extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div class=\"content\">\n        <div class=\"title\">about</div>\n\n        <div class=\"body-text\">\n          Moody Music is a web app that uses color to generate a personalized playlist based on your Spotify listening history.<br/><br/>\n          Created by <a href=\"https://alicemliu.github.io\">Alice Liu</a>. The source code can be found <a href=\"https://github.com/alicemliu/moody-music\">here</a>.\n        </div>\n        \n        <div class=\"subtitle\">technology</div>\n        <div class=\"body-text\">\n          Moody Music is build with <a href=\"https://create-react-app.dev/\">create-react-app</a> and <a href=\"https://developer.spotify.com/documentation/web-api/\">Spotify's Web API</a>. It runs completely client-side and is deployed on Heroku.<br/><br/>\n          Although I used Spotify's API, I'm not affiliated with Spotify.\n        </div>\n\n        <div class=\"subtitle\">privacy</div>\n        <div class=\"body-text\">\n          Spotify authorization is handled using <a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow\">implicit grant flow</a>, meaning that all account authorization happens in your browser and no account data is being stored by Moody Music.\n          Because of this, tokens expire after an hour, which is why you might be promoted to log in again after periods of inactivity.\n        </div>\n\n        <div class=\"icons\">\n          <a href=\"https://www.linkedin.com/in/alicemliu/\"><i class=\"fa fa-linkedin-square\"></i></a>\n          <a href=\"https://www.github.com/alicemliu/\"><i class=\"fa fa-github\"></i></a>\n          <a href=\"https://twitter.com/alicemliu\"><i class=\"fa fa-twitter-square\"></i></a>\n        </div>\n      </div>\n    );\n  }\n}","import React from \"react\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {token: \"\"};\n  }\n\n  componentDidMount() {\n    const hash = window.location.hash\n    .substring(1)\n    .split('&')\n    .reduce(function (initial, item) {\n      if (item) {\n        var parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n      return initial;\n    }, {});\n    window.location.hash = '';\n\n    // Set token\n    let _token = hash.access_token;\n\n    const authEndpoint = 'https://accounts.spotify.com/authorize';\n\n    // Replace with your app's client ID, redirect URI and desired scopes\n    const clientId = '3c6967b4c5d84ba9bb81d27d7d2f3f2f';\n    const redirectUri = 'http://localhost:3000/';\n    const scopes = [\n      'user-top-read',\n      'playlist-modify-private',\n      'playlist-modify-public'\n    ];\n\n    // If there is no token, redirect to Spotify authorization\n    if (!_token) {\n      window.location = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join('%20')}&response_type=token&show_dialog=true`;\n    }\n  }\n\n  render() {\n    return (\n      <div class='content'>\n        <span class=\"subtitle\">Authorizing...</span>\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport queryString from 'query-string';\n\nimport '../css/app.css';\nimport '../css/index.css';\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: \"\",\n      loggedIn: false,\n      message: \"Log in with Spotify to get started!\"\n    };\n  }\n\n  componentDidMount() {\n    let params = queryString.parse(window.location.hash);\n    console.log(\"hello\")\n    let token = params.access_token\n\n    if (token) {\n      this.setState(state => ({\n        token: token,\n        loggedIn: true,\n        message: \"Authentication successful.\"\n      }));\n    }\n    else {\n      this.setState(state => ({\n        token: token,\n        loggedIn: false,\n        message: \"\"\n      }));\n    }\n  }\n\n  render() {\n    const loggedIn = this.state.loggedIn\n    return (\n      <div class=\"content\">\n        <span class=\"title\">moody music 🎶</span>\n        <br/>\n        <br/>\n        <span class=\"body-text\">\n          A colorful, personalized playlist generator.<br/>\n        </span>\n\n        { loggedIn\n          ?\n          <Redirect to={{\n            pathname: '/color',\n            state: { token: this.state.token }\n          }}/>\n          :\n          <Link to='/login'>\n            <button class=\"round_btn\">Login with Spotify</button>\n          </Link>\n        }\n      </div>\n    );\n  }\n}","import React from \"react\";\n\nexport default class Playlist extends React.Component {\n  constructor(props) {\n    super(props);\n    if (typeof this.props.location.state === 'undefined') {\n      this.props.history.push(\"/error\");\n      this.state = {\n        token: '',\n        moodOption: '',\n        artists: [],\n        hex: '#ffffff',\n        hsl: { h: 0, s: 0, l: 1 },\n        rgb: { r: 0, g: 0, b: 0 },\n        artistQuery: '',\n        userId: ''\n      };\n    }\n    else {\n      this.state = {\n        token: this.props.location.state.token,\n        moodOption: this.props.location.state.moodOption,\n        hex: this.props.location.state.hex,\n        hsl: this.props.location.state.hsl,\n        rgb: this.props.location.state.rgb,\n        artists: this.props.location.state.artists,\n        artistQuery: this.props.location.state.artistQuery,\n        userId: this.props.location.state.userId\n      };\n    }\n    \n    this.getPlaylist = this.getPlaylist.bind(this);\n  }\n\ncomponentDidMount() {\n    this.getPlaylist()\n  }\n\n  getPlaylist() {\n    const recommendations_api = \"https://api.spotify.com/v1/recommendations?limit=20&seed_artists=\" + this.state.artistQuery\n    const create_playlist_api = \"https://api.spotify.com/v1/users/\" + this.state.userId + \"/playlists\"\n    const add_tracks_api = \"https://api.spotify.com/v1/playlists/{playlist_id}/tracks/\"\n\n    let energy = this.state.hsl.s\n    let valence = this.state.rgb.g / 225\n\n    fetch(recommendations_api + \"&target_energy=\" + energy + \"&target_valence=\" + valence, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response);\n      return response.json();\n    })\n    .then((data) => {\n      let songs = ''\n      data.tracks.map(function(song) {\n        songs = songs + song.uri + ','\n      });\n      this.setState({\n        songs: songs\n      });\n      return songs\n    })\n    .then((songs) => {\n      fetch(create_playlist_api, {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + this.state.token\n        },\n        body: JSON.stringify({\n          \"name\": this.state.hex,\n          \"description\": \"Playlist created by Moody Music.\",\n          \"public\": false\n        })\n      })\n      .then((response) => {\n        if (!response.ok) throw Error(response);\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          playlistURI: data.external_urls.spotify,\n          playlistId: data.id\n        });\n        return data.id\n      })\n      .then((playlistId) => {\n        fetch(\"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks?uris=\" + this.state.songs, {\n          method: 'POST',\n          headers: {\n            'Authorization': 'Bearer ' + this.state.token\n          }\n        })\n        .then((response) => {\n          if (!response.ok) throw Error(response);\n        })\n        .catch(error => {\n          console.log(error);\n          this.props.history.push(\"/error\");\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.props.history.push(\"/error\");\n      });\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  render() {\n    let embedURI = \"https://open.spotify.com/embed/playlist/\" + this.state.playlistId;\n    return (\n      <div class=\"content\">\n        <span class='title'>you're feeling: </span>\n        <span class='title-no-color' style={{color: this.state.hex}}>{this.state.hex}</span>\n        <br/><br/>\n        <div>\n          <iframe src={embedURI} id=\"embed\" height=\"380\" frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\n        </div>\n        <a href={this.state.playlistURI} class='round_btn'>Open in Spotify</a>\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ChromePicker } from 'react-color';\n\nexport default class Color extends React.Component {\n  constructor(props) {\n    super(props);\n    let token = ''\n    if (typeof this.props.location.state === 'undefined') {\n      this.props.history.push(\"/error\");\n    }\n    else {\n      token = this.props.location.state.token;\n    }\n    this.state = {\n      token: token,\n      // moodOption: this.props.location.state.moodOption,\n      hex: '#ffffff',\n      hsl: { h: 0, s: 0, l: 1 },\n      rgb: { r: 0, g: 0, b: 0 },\n      isSelected: false\n    };\n\n    this.getTopArtists = this.getTopArtists.bind(this);\n    this.getUser = this.getUser.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.getTopArtists();\n  }\n\n  getTopArtists() {\n    const api_url = \"https://api.spotify.com/v1/me/top/artists?limit=5\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      let items = []\n      let query = ''\n      data.items.map(function(artist) {\n        items.push(artist.name);\n        query = query + artist.id + ',';\n      });\n      this.setState(state => ({\n        artists: items,\n        artistQuery: query\n      }));\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  getUser() {\n    const api_url = \"https://api.spotify.com/v1/me\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      this.setState(state => ({\n        userId: data.id\n      }));\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  handleChangeComplete = (color) => {\n    this.setState({ \n      hex: color.hex,\n      hsl: color.hsl,\n      rgb: color.rgb,\n      isSelected: true\n    });\n  };\n\n  render() {\n    return (\n      <div class='content'>\n          <div class='title'>what color are you feeling?</div>\n          The color you pick affects the mood of the generated playlist, along with your listening history.<br/><br/><br/>\n\n\n          <ChromePicker color={ this.state.hex }\n            onChange={ this.handleChangeComplete }\n            disableAlpha = { true }\n          />\n          \n          <Link to={{\n            pathname: '/playlist',\n            state: { \n              token: this.state.token,\n              hex: this.state.hex,\n              hsl: this.state.hsl,\n              rgb: this.state.rgb,\n              artists: this.state.artists,\n              artistQuery: this.state.artistQuery,\n              userId: this.state.userId\n            }\n          }}>\n            <button className=\"round_btn\" disabled={!this.state.isSelected}>\n              Create Playlist\n            </button>\n          </Link>\n          {/* <button className=\"round_btn\">\n              Edit Color\n          </button> */}\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Redirect, Link } from 'react-router-dom';\n\nexport default class Error extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false\n    }\n  }\n\n  componentDidMount() {\n    this.id = setTimeout(() => this.setState({ redirect: true }), 1500)\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id)\n  }\n\n  render() {\n    return (\n      <div class='content'>\n        { this.state.redirect\n          ? \n          <div>\n            <Redirect to=\"/login\"/>\n          </div>\n          : \n          <div>\n            <span class=\"subtitle\">Authentication timed out!<br/>Redirecting you to login...</span>\n            <br/>\n            <Link to='/'>\n              <button class=\"round_btn\">Return to Homepage</button>\n            </Link>\n          </div>\n        }\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Redirect, Link } from 'react-router-dom';\n\nexport default class PageNotFound extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div class='content'>\n        <br/>\n        <span class=\"subtitle\">Oops! This page doesn't exist.<br/></span>\n        <Link to='/'>\n          <button class=\"round_btn\">Return to Homepage</button>\n        </Link>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { spring, AnimatedSwitch } from 'react-router-transition';\n\nimport '../css/index.css';\n\nimport About from './about';\nimport Login from './login';\nimport Home from './home';\nimport Playlist from './playlist';\nimport Color from './color';\nimport Error from './error';\nimport PageNotFound from './pagenotfound';\n\n// we need to map the `scale` prop we define below\n// to the transform style property\nfunction mapStyles(styles) {\n  return {\n    opacity: styles.opacity,\n    transform: `scale(${styles.scale})`,\n  };\n}\n\n// wrap the `spring` helper to use a bouncy config\nfunction bounce(val) {\n  return spring(val, {\n    stiffness: 330,\n    damping: 22,\n  });\n}\n\n// child matches will...\nconst bounceTransition = {\n  // start in a transparent, upscaled state\n  atEnter: {\n    opacity: 0,\n    scale: 1.2,\n  },\n  // leave in a transparent, downscaled state\n  atLeave: {\n    opacity: bounce(0),\n    scale: bounce(0.8),\n  },\n  // and rest at an opaque, normally-scaled state\n  atActive: {\n    opacity: bounce(1),\n    scale: bounce(1),\n  },\n};\n\nconst Main = () => {\n\n  return (\n    // <AnimatedSwitch\n    //   atEnter={{ opacity: 0 }}\n    //   atLeave={{ opacity: 0 }}\n    //   atActive={{ opacity: 1 }}\n    //   // atEnter={bounceTransition.atEnter}\n    //   // atLeave={bounceTransition.atLeave}\n    //   // atActive={bounceTransition.atActive}\n    //   // mapStyles={mapStyles}\n    //   className=\"switch-wrapper\"\n    // >\n    <Switch className=\"switch-wrapper\">\n      <Route exact path='/' component={Home}></Route>\n      <Route exact path='/about' component={About}></Route>\n      <Route exact path='/login' component={Login}></Route>\n      <Route exact path='/color' component={Color}></Route>\n      <Route exact path='/playlist' component={Playlist}></Route>\n      <Route exact path='/error' component={Error}></Route>\n      <Route component={PageNotFound}/>\n    </Switch>\n  );\n}\n\nexport default Main;","import React from \"react\";\nimport \"../css/header.css\"\n\nimport { Link } from \"react-router-dom\";\n\nexport default class Header extends React.Component {\n  render() {\n    return (\n      <div class=\"header\">\n        <Link to='/' class=\"logo\">🎶</Link>\n        <div class=\"header-right\">\n          <Link to='/about'>about</Link>\n          <Link to='/login'>login</Link>\n        </div>\n      </div>\n    );\n  }\n}","import './css/index.css';\n\nimport Main from \"./components/main\";\nimport Header from \"./components/header\";\n\nimport { BrowserRouter } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header/>\n      <Main/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />\n  ,document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}