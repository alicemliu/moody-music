{"version":3,"sources":["components/login.js","components/mood.js","components/home.js","components/playlist.js","components/color.js","components/error.js","components/main.js","components/header.js","App.js","reportWebVitals.js","index.js"],"names":["Login","props","state","token","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","access_token","join","React","Component","Mood","console","log","temp","history","push","artists","moodOption","isSelected","getData","bind","onValueChange","formSubmit","event","this","setState","target","value","preventDefault","fetch","method","headers","then","response","ok","Error","statusText","json","data","items","map","artist","name","catch","error","className","type","checked","onChange","to","pathname","disabled","Home","loggedIn","message","queryString","parse","Playlist","hex","hsl","rgb","getTopArtists","getUser","getPlaylist","query","id","artistQuery","userId","recommendations_api","create_playlist_api","songs","tracks","song","uri","body","JSON","stringify","playlistURI","external_urls","spotify","playlistId","encodeURI","onClick","Color","handleChangeComplete","color","h","s","l","r","g","b","style","backgroundColor","redirect","setTimeout","clearTimeout","bounce","val","spring","stiffness","damping","Main","atEnter","opacity","atLeave","atActive","exact","path","component","Header","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cdeaa531.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {token: \"\"};\n\n    // This binding is necessary to make `this` work in the callback\n  }\n\n  componentDidMount() {\n    const hash = window.location.hash\n    .substring(1)\n    .split('&')\n    .reduce(function (initial, item) {\n      if (item) {\n        var parts = item.split('=');\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n      }\n      return initial;\n    }, {});\n    window.location.hash = '';\n\n    // Set token\n    let _token = hash.access_token;\n\n    const authEndpoint = 'https://accounts.spotify.com/authorize';\n\n    // Replace with your app's client ID, redirect URI and desired scopes\n    const clientId = '3c6967b4c5d84ba9bb81d27d7d2f3f2f';\n    const redirectUri = 'http://localhost:3000';\n    const scopes = [\n      'user-top-read',\n      'playlist-modify-private',\n      'playlist-modify-public'\n    ];\n\n    // If there is no token, redirect to Spotify authorization\n    if (!_token) {\n      window.location = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join('%20')}&response_type=token&show_dialog=true`;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        authorizing...\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\n\n// import { isLogin } from './utils';\n\nexport default class Mood extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props)\n\n    let temp = \"\"\n    if (typeof this.props.location.state === 'undefined') {\n      this.props.history.push(\"/error\");\n      return;\n    }\n    else {\n      temp = this.props.location.state.token\n    }\n    // else {\n    //   this.state = {\n    //     token: this.props.location.state.token,\n    //     artists: [],\n    //     moodOption: \"\",\n    //     isSelected: false\n    //   };\n    // }\n\n    this.state = {\n      token: temp,\n      artists: [],\n      moodOption: \"\",\n      isSelected: false\n    };\n\n    // This binding is necessary to make `this` work in the callback\n    this.getData = this.getData.bind(this);\n    this.onValueChange = this.onValueChange.bind(this);\n    this.formSubmit = this.formSubmit.bind(this);\n  }\n\n  onValueChange(event) {\n    this.setState({\n      moodOption: event.target.value,\n      isSelected: true\n    });\n    console.log(event.target.value)\n  }\n\n  formSubmit(event) {\n    event.preventDefault();\n    console.log(this.state.moodOption)\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  getData() {\n    const api_url = \"https://api.spotify.com/v1/me/top/artists\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      //console.log(response)\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      let items = []\n      data.items.map(function(artist) {\n        // let item = $('<li>' + artist.name + '</li>');\n        // item.appendTo($('#top-artists'));\n        items.push(artist.name)\n      });\n      this.setState(state => ({\n        artists: items\n      }));\n    })\n    .catch(error => {\n      console.log(error);\n      this.props.history.push(\"/error\");\n    });\n  }\n\n  render() {\n\n    return (\n      <div>\n        <form>\n          <div className=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                value=\"Male\"\n                checked={this.state.moodOption === \"Male\"}\n                onChange={this.onValueChange}\n              />\n              Male\n            </label>\n          </div>\n          <div className=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                value=\"Female\"\n                checked={this.state.moodOption === \"Female\"}\n                onChange={this.onValueChange}\n              />\n              Female\n            </label>\n          </div>\n          <div className=\"radio\">\n            <label>\n              <input\n                type=\"radio\"\n                value=\"Other\"\n                checked={this.state.moodOption === \"Other\"}\n                onChange={this.onValueChange}\n              />\n              Other\n            </label>\n          </div>\n          <div>\n            Selected option is : {this.state.moodOption}\n          </div>\n          <Link to={{\n            pathname: '/color',\n            state: { \n              token: this.state.token,\n              moodOption: this.state.moodOption\n            }\n          }}>\n            <button disabled={!this.state.isSelected} className=\"btn btn-default\" type=\"submit\">\n              Submit\n            </button>\n          </Link>\n        </form>\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport queryString from 'query-string';\nimport Mood from './mood'\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: \"\",\n      loggedIn: false,\n      message: \"Log in with Spotify to get started!\"\n    };\n\n    // This binding is necessary to make `this` work in the callback\n  }\n\n  componentDidMount() {\n    // check for query params\n\n    let params = queryString.parse(window.location.hash);\n    let token = params.access_token\n\n    if (token) {\n      console.log(\"if\")\n      this.setState(state => ({\n        token: token,\n        loggedIn: true,\n        message: \"Authentication successful.\"\n      }));\n    }\n    else {\n      console.log(\"else\")\n      this.setState(state => ({\n        token: token,\n        loggedIn: false,\n        message: \"\"\n      }));\n    }\n  }\n\n  render() {\n    const loggedIn = this.state.loggedIn\n    return (\n      <div>\n        welcome 2 moody music<br/>\n        { loggedIn\n          ?\n          <Link to={{\n            pathname: '/mood',\n            state: { token: this.state.token }\n          }}>\n            <button>continue</button>\n          </Link> \n          :\n          <Link to='/login'>\n            <button>Login with Spotify</button>\n          </Link>\n        }\n\n      </div>\n    );\n  }\n}","import React from \"react\";\n\nexport default class Playlist extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props.location.state)\n    this.state = {\n      token: this.props.location.state.token,\n      moodOption: this.props.location.state.moodOption,\n      artists: [],\n      hex: this.props.location.state.hex,\n      hsl: this.props.location.state.hsl,\n      rgb: this.props.location.state.rgb\n    };\n    // This binding is necessary to make `this` work in the callback\n    this.getTopArtists = this.getTopArtists.bind(this);\n    this.getUser = this.getUser.bind(this);\n    this.getPlaylist = this.getPlaylist.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUser();\n    // const artists = await this.getTopArtists();\n    this.getTopArtists();\n  }\n\n  getTopArtists() {\n    const api_url = \"https://api.spotify.com/v1/me/top/artists?limit=5\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      let items = []\n      let query = ''\n      data.items.map(function(artist) {\n        items.push(artist.name);\n        query = query + artist.id + ',';\n      });\n      this.setState(state => ({\n        artists: items,\n        artistQuery: query\n      }));\n    })\n    .catch(error => console.log(error)); // eslint-disable-line no-console\n  }\n\n  getUser() {\n    const api_url = \"https://api.spotify.com/v1/me\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      this.setState(state => ({\n        userId: data.id\n      }));\n      console.log(data.id)\n    })\n    .catch(error => console.log(error)); // eslint-disable-line no-console\n  }\n\n  getPlaylist() {\n    const recommendations_api = \"https://api.spotify.com/v1/recommendations?limit=20&seed_artists=\" + this.state.artistQuery\n    const create_playlist_api = \"https://api.spotify.com/v1/users/\" + this.state.userId + \"/playlists\"\n    const add_tracks_api = \"https://api.spotify.com/v1/playlists/{playlist_id}/tracks/\"\n\n    fetch(recommendations_api, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      console.log(response);\n      if (!response.ok) throw Error(response);\n      return response.json();\n    })\n    .then((data) => {\n      let songs = ''\n      data.tracks.map(function(song) {\n        songs = songs + song.uri + ','\n      });\n      this.setState({\n        songs: songs\n      });\n      return songs\n    })\n    .then((songs) => {\n      fetch(create_playlist_api, {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + this.state.token\n        },\n        body: JSON.stringify({\n          \"name\": this.state.hex,\n          \"description\": \"New playlist description\",\n          \"public\": false\n        })\n        // body: \"{\\\"name\\\":\\\"New Playlist\\\",\\\"description\\\":\\\"New playlist description\\\",\\\"public\\\":false}\"\n      })\n      .then((response) => {\n        console.log(response);\n        if (!response.ok) throw Error(response);\n        return response.json();\n      })\n      .then((data) => {\n        this.setState({\n          playlistURI: data.external_urls.spotify\n        });\n        return data.id\n      })\n      .then((playlistId) => {\n        console.log(encodeURI(\"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks?uris=\" + this.state.songs))\n        fetch(\"https://api.spotify.com/v1/playlists/\" + playlistId + \"/tracks?uris=\" + this.state.songs, {\n          method: 'POST',\n          headers: {\n            'Authorization': 'Bearer ' + this.state.token\n          }\n        })\n        .then((response) => {\n          console.log(response);\n          if (!response.ok) throw Error(response);\n        })\n        .catch(error => console.log(error));\n      })\n      .catch(error => console.log(error));\n    })\n    .catch(error => console.log(error));\n  }\n\n  render() {\n    return (\n      <div>\n          hello\n          {this.state.artistQuery}\n          <button onClick={this.getPlaylist}>get playlist</button>\n          {this.state.playlistURI}\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { CirclePicker, SliderPicker, HuePicker } from 'react-color';\n\nexport default class Color extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: this.props.location.state.token,\n      moodOption: this.props.location.state.moodOption,\n      hex: '#fff',\n      hsl: { h: 0, s: 0, l: 1 },\n      rgb: { r: 0, g: 0, b: 0 }\n    };\n    console.log(\"hello\")\n    console.log(this.props.location.state)\n    console.log(this.props.location.state.moodOption)\n    \n    // This binding is necessary to make `this` work in the callback\n    this.getData = this.getData.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  handleChangeComplete = (color) => {\n    this.setState({ \n      hex: color.hex,\n      hsl: color.hsl,\n      rgb: color.rgb\n    });\n    console.log(color.rgb)\n  };\n\n  getData() {\n    const api_url = \"https://api.spotify.com/v1/me/top/artists\"\n\n    fetch(api_url, { \n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + this.state.token\n      }\n    })\n    .then((response) => {\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      let items = []\n      data.items.map(function(artist) {\n        items.push(artist.name)\n      });\n      this.setState(state => ({\n        artists: items\n      }));\n    })\n    .catch(error => {\n      this.props.history.push(\"/error\");\n      console.log(error);\n    }); // eslint-disable-line no-console\n  }\n\n  render() {\n    return (\n      <div style={{backgroundColor: this.state.hex}}>\n          <SliderPicker color={ this.state.hex }\n            onChange={ this.handleChangeComplete }\n          />\n\n          <Link to={{\n            pathname: '/playlist',\n            state: { \n              token: this.state.token,\n              hex: this.state.hex,\n              hsl: this.state.hsl,\n              rgb: this.state.rgb\n            }\n          }}>\n            <button className=\"btn btn-default\" type=\"submit\">\n              Submit\n            </button>\n          </Link>\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Redirect } from 'react-router-dom';\n\nexport default class Error extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false\n    }\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      window.history.push('/login')\n    }, 10000)\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id)\n  }\n\n  render() {\n    return (\n      <div>\n          authentication error, redirecting you to login...\n          <Redirect to=\"/login\"/>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { spring, AnimatedSwitch } from 'react-router-transition';\n\nimport '../css/main.css';\n\nimport Login from './login';\nimport Home from './home';\nimport Mood from './mood';\nimport Playlist from './playlist';\nimport Color from './color';\nimport Error from './error';\n\n\n// we need to map the `scale` prop we define below\n// to the transform style property\nfunction mapStyles(styles) {\n  return {\n    opacity: styles.opacity,\n    transform: `scale(${styles.scale})`,\n  };\n}\n\n// wrap the `spring` helper to use a bouncy config\nfunction bounce(val) {\n  return spring(val, {\n    stiffness: 330,\n    damping: 22,\n  });\n}\n\n// child matches will...\nconst bounceTransition = {\n  // start in a transparent, upscaled state\n  atEnter: {\n    opacity: 0,\n    scale: 1.2,\n  },\n  // leave in a transparent, downscaled state\n  atLeave: {\n    opacity: bounce(0),\n    scale: bounce(0.8),\n  },\n  // and rest at an opaque, normally-scaled state\n  atActive: {\n    opacity: bounce(1),\n    scale: bounce(1),\n  },\n};\n\nconst Main = () => {\n\n  return (\n    <AnimatedSwitch\n      atEnter={{ opacity: 0 }}\n      atLeave={{ opacity: 0 }}\n      atActive={{ opacity: 1 }}\n      // atEnter={bounceTransition.atEnter}\n      // atLeave={bounceTransition.atLeave}\n      // atActive={bounceTransition.atActive}\n      // mapStyles={mapStyles}\n      className=\"switch-wrapper\"\n    >\n      <Route exact path='/' component={Home}></Route>\n      <Route exact path='/login' component={Login}></Route>\n      <Route exact path='/mood' component={Mood}></Route>\n      <Route exact path='/color' component={Color}></Route>\n      <Route exact path='/playlist' component={Playlist}></Route>\n      <Route exact path='/error' component={Error}></Route>\n    </AnimatedSwitch>\n  );\n}\n\nexport default Main;","import React from \"react\";\n\nexport default class Header extends React.Component {\n  render() {\n    return (\n      <div>moody music</div>\n    );\n  }\n}","import './App.css';\n\nimport Main from \"./components/main\";\nimport Header from \"./components/header\";\n\n// import { StoreProvider } from \"./store\";\n\nfunction App() {\n  return (\n    <div>\n      <Header/>\n      <Main/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}